(function(){"use strict";var e={1182:function(e,t,n){var a=n(9242),o=n(3396),i=n.p+"img/load.4142ebbf.gif";const r={class:"container"},s={class:"top__section"},l={class:"bottom__section"},c={class:"cards-box"},d={key:0,class:"loader"},m=(0,o._)("img",{src:i,alt:""},null,-1),u=[m];function p(e,t,n,i,m,p){const g=(0,o.up)("page-title"),f=(0,o.up)("Filter"),h=(0,o.up)("add-item-form"),_=(0,o.up)("item-card");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",s,[(0,o.Wm)(g,{text:"Добавление товара"}),(0,o.Wm)(f,{onToMax:p.sortToMax,onToMin:p.sortToMin,onToAlph:p.sortToAlph,onDefault:p.toDefault},null,8,["onToMax","onToMin","onToAlph","onDefault"])]),(0,o._)("div",l,[(0,o.Wm)(h,{onUpdatecards:t[0]||(t[0]=e=>p.getItems())}),(0,o._)("div",c,[m.loading?((0,o.wg)(),(0,o.iD)("div",d,u)):(0,o.kq)("",!0),(0,o.Wm)(a.W3,{name:"fade"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.databaseItems,((e,t)=>((0,o.wg)(),(0,o.j4)(_,{key:e.id,item:e,onDeleteitem:n=>p.deleteItem(e.id,t)},null,8,["item","onDeleteitem"])))),128))])),_:1})])])])}var g=n(7139);const f={class:"page__title"};function h(e,t,n,a,i,r){return(0,o.wg)(),(0,o.iD)("h1",f,(0,g.zw)(n.text),1)}var _={props:["text"]},v=n(89);const b=(0,v.Z)(_,[["render",h],["__scopeId","data-v-0019ca90"]]);var w=b,y=n.p+"img/check-circle.58d1f593.gif";const k=e=>((0,o.dD)("data-v-caf19ecc"),e=e(),(0,o.Cn)(),e),D={for:"name",class:"form__label"},I=(0,o.Uk)("Наименование товара "),T={key:0},x={key:0,class:"danger-error"},C=k((()=>(0,o._)("label",{for:"name",class:"form__label"},"Описание товара",-1))),P={for:"name",class:"form__label"},M=(0,o.Uk)("Ссылка на изображение товара "),N={key:0},A={key:1,class:"danger-error"},H={for:"name",class:"form__label"},O=(0,o.Uk)("Цена товара "),q={key:0},S={key:2,class:"danger-error"},U={key:3,class:"loader"},j=k((()=>(0,o._)("img",{src:i,alt:""},null,-1))),F=[j],W={key:4,class:"done"},z=k((()=>(0,o._)("img",{src:y,alt:""},null,-1))),V=[z];function Z(e,t,n,i,r,s){return(0,o.wg)(),(0,o.iD)("form",{class:"add_form",onSubmit:t[6]||(t[6]=(0,a.iM)(((...e)=>s.submitHandler&&s.submitHandler(...e)),["prevent"]))},[(0,o._)("label",D,[I,r.itemName.length<=0?((0,o.wg)(),(0,o.iD)("span",T)):(0,o.kq)("",!0)]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Введите наименование товара","onUpdate:modelValue":t[0]||(t[0]=e=>r.itemName=e),class:(0,g.C_)({"danger-input":r.itemName.length<=0&&r.trySubmit})},null,2),[[a.nr,r.itemName]]),r.itemName.length<=0&&r.trySubmit?((0,o.wg)(),(0,o.iD)("small",x,"Поле является обязательным")):(0,o.kq)("",!0),C,(0,o.wy)((0,o._)("textarea",{placeholder:"Введите описание товара","onUpdate:modelValue":t[1]||(t[1]=e=>r.itemDescr=e)},null,512),[[a.nr,r.itemDescr]]),(0,o._)("label",P,[M,r.itemImg.length<=0?((0,o.wg)(),(0,o.iD)("span",N)):(0,o.kq)("",!0)]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Введите ссылку","onUpdate:modelValue":t[2]||(t[2]=e=>r.itemImg=e),class:(0,g.C_)({"danger-input":r.itemImg.length<=0&&r.trySubmit})},null,2),[[a.nr,r.itemImg]]),r.itemImg.length<=0&&r.trySubmit?((0,o.wg)(),(0,o.iD)("small",A,"Поле является обязательным")):(0,o.kq)("",!0),(0,o._)("label",H,[O,r.itemPrice.length<=0?((0,o.wg)(),(0,o.iD)("span",q)):(0,o.kq)("",!0)]),(0,o.wy)((0,o._)("input",{type:"number",placeholder:"Введите цену","onUpdate:modelValue":t[3]||(t[3]=e=>r.itemPrice=e),class:(0,g.C_)({"danger-input":r.itemPrice.length<=0&&r.trySubmit}),onBlur:t[4]||(t[4]=(...t)=>e.replaceThouns&&e.replaceThouns(...t))},null,34),[[a.nr,r.itemPrice]]),r.itemPrice.length<=0&&r.trySubmit?((0,o.wg)(),(0,o.iD)("small",S,"Поле является обязательным")):(0,o.kq)("",!0),(0,o._)("button",{type:"submit",class:(0,g.C_)(["form__btn",{disabled:!s.validateH}]),onClick:t[5]||(t[5]=e=>r.trySubmit=!0)},"Добавить товар",2),r.loading?((0,o.wg)(),(0,o.iD)("div",U,F)):(0,o.kq)("",!0),r.done?((0,o.wg)(),(0,o.iD)("div",W,V)):(0,o.kq)("",!0)],32)}var E=n(6265),$=n.n(E),B={data(){return{loading:!1,done:!1,showAddForm:!1,trySubmit:!1,showError:!0,validate:!1,itemName:"",itemDescr:null,itemImg:"",itemPrice:""}},methods:{async submitHandler(){if(this.validateH){let e={};e.id=Date.now()*Math.random(1,Date.now()),e.itemName=this.itemName,e.itemDescr=this.itemDescr||"Нет описания",e.itemImg=this.itemImg,e.itemPrice=this.itemPrice,this.loading=!0,await $().post("http://localhost:3000/products",e).then((e=>console.log(e))),this.loading=!1,this.done=!0,this.$emit("updatecards"),setTimeout((()=>{this.done=!1}),500)}}},computed:{validateH(){return 0!=this.itemName.length&&0!=this.itemImg.length&&0!=this.itemPrice.length}}};const L=(0,v.Z)(B,[["render",Z],["__scopeId","data-v-caf19ecc"]]);var K=L;const Y=e=>((0,o.dD)("data-v-fdf1905c"),e=e(),(0,o.Cn)(),e),G=Y((()=>(0,o._)("option",{value:"default"},"По умолчанию",-1))),J=Y((()=>(0,o._)("option",{value:"toMax"},"По возрастанию",-1))),Q=Y((()=>(0,o._)("option",{value:"toMin"},"По убыванию",-1))),R=Y((()=>(0,o._)("option",{value:"toAlph"},"По алфавиту",-1))),X=[G,J,Q,R];function ee(e,t,n,i,r,s){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.selected=e),class:(0,g.C_)(["filter",{open:!0,close:!1}]),onChange:t[1]||(t[1]=t=>e.$emit(r.selected))},X,544)),[[a.bM,r.selected]])}var te={data(){return{selected:"default"}}};const ne=(0,v.Z)(te,[["render",ee],["__scopeId","data-v-fdf1905c"]]);var ae=ne,oe=n.p+"img/delete.88825ce7.svg";const ie=e=>((0,o.dD)("data-v-26a97518"),e=e(),(0,o.Cn)(),e),re={class:"card__img"},se=["src"],le={class:"card__text-box"},ce={class:"card__name"},de={class:"card__descr"},me={class:"card__price"},ue=ie((()=>(0,o._)("img",{src:oe,alt:""},null,-1))),pe=[ue];function ge(e,t,n,i,r,s){return(0,o.wg)(),(0,o.iD)("div",{class:"card",onMouseenter:t[1]||(t[1]=e=>r.cardHover=!0),onMouseleave:t[2]||(t[2]=e=>r.cardHover=!1)},[(0,o._)("div",re,[(0,o._)("img",{src:n.item.itemImg,alt:""},null,8,se)]),(0,o._)("div",le,[(0,o._)("p",ce,(0,g.zw)(n.item.itemName),1),(0,o._)("p",de,(0,g.zw)(n.item.itemDescr),1),(0,o._)("p",me,(0,g.zw)(n.item.itemPrice)+" руб.",1)]),(0,o.Wm)(a.uT,{name:"fade"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",{class:"delete-btn",onClick:t[0]||(t[0]=t=>e.$emit("deleteitem",n.item.id))},pe,512),[[a.F8,r.cardHover]])])),_:1})],32)}var fe={props:["item"],data(){return{cardHover:!1}},methods:{}};const he=(0,v.Z)(fe,[["render",ge],["__scopeId","data-v-26a97518"]]);var _e=he,ve={components:{PageTitle:w,AddItemForm:K,Filter:ae,ItemCard:_e},name:"App",data(){return{loading:!0,databaseItems:null}},methods:{async deleteItem(e,t){await $()["delete"]("http://localhost:3000/products/"+e),this.databaseItems.splice(t,1)},async getItems(){await $().get("http://localhost:3000/products").then((e=>{let{data:t}=e;this.loading=!1,this.databaseItems=t}))},sortToMax(){this.databaseItems.sort(((e,t)=>e.itemPrice-t.itemPrice))},sortToMin(){this.databaseItems.sort(((e,t)=>t.itemPrice-e.itemPrice))},sortToAlph(){this.databaseItems.sort(((e,t)=>{var n=e.itemName.toLowerCase(),a=t.itemName.toLowerCase();return n<a?-1:n>a?1:void 0}))},toDefault(){this.loading=!0,setTimeout((()=>{this.loading=!1}),200),this.getItems()}},mounted:async function(){this.getItems()}};const be=(0,v.Z)(ve,[["render",p]]);var we=be,ye=n(9907);(0,ye.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,a.ri)(we).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,i){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],i=e[d][2];for(var s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,r=a[0],s=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(a);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},a=self["webpackChunkshop_panel"]=self["webpackChunkshop_panel"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1182)}));a=n.O(a)})();
//# sourceMappingURL=app.aadc522a.js.map